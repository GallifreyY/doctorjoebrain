webpackJsonp([5],{"+iE6":function(e,t){},"19x6":function(e,t){},"9i8U":function(e,t){},LLlS:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={name:"TopBar",components:{NavBar:i("XpZt").a},data:function(){return{title:"Horizon Peripherals Intelligence",subtitle:"Device Intelligence Diagnosis Service for VMware Horizon."}}},s={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"topBar"},[i("nav-bar"),e._v(" "),i("div",{staticClass:"topcontent"},[i("div",{staticClass:"titles"},[i("h1",{staticClass:"title"},[e._v(e._s(e.title))]),e._v(" "),i("h2",{staticClass:"subtitle"},[e._v(e._s(e.subtitle))])])])],1)},staticRenderFns:[]};var n=i("VU/8")(a,s,!1,function(e){i("19x6")},"data-v-1ffe2cc3",null).exports,o=i("Dd8w"),r=i.n(o),c=i("vLgD");var l={name:"DeviceCard",props:{deviceInfo:{type:Object},showDetails:{type:Boolean,default:!0},index:{type:Number,default:0}},data:function(){return{}}},d={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{margin:"20px 20px 20px 0px"}},[i("Card",{attrs:{bordered:!1,shadow:""}},[i("Row",{attrs:{type:"flex",justify:"space-between"}},[i("Col",{staticClass:"heading"},[e._v(e._s(e.deviceInfo.deviceName)+" ("+e._s(e.index)+")")]),e._v(" "),i("Col",[e.deviceInfo.hasProblem?i("Poptip",{attrs:{trigger:"hover"}},[i("Icon",{attrs:{type:"ios-alert-outline",color:"red"}}),e._v(" "),i("span",{staticStyle:{color:"red","font-size":"10px"},attrs:{slot:"content"},slot:"content"},[e._v("This device has some problems")])],1):i("Poptip",{attrs:{trigger:"hover"}},[i("Icon",{attrs:{type:"ios-checkmark-circle-outline",color:"green"}}),e._v(" "),i("span",{staticStyle:{color:"green","font-size":"10px"},attrs:{slot:"content"},slot:"content"},[e._v("This device works normally")])],1)],1)],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showDetails,expression:"showDetails"}]},[i("div",{staticClass:"device-img-container"},[i("img",{staticClass:"device-img",attrs:{src:"/static/device/"+e.deviceInfo.details.picture}})]),e._v(" "),i("Row",{staticStyle:{padding:"10px 5px"},attrs:{type:"flex",justify:"center",align:"middle"}},[i("Col",{attrs:{span:6}},[i("div",{staticStyle:{width:"70px",height:"70px"}},[i("a",{attrs:{href:e.deviceInfo.details.vendor_link}},[i("img",{attrs:{src:"/static/device/"+e.deviceInfo.details.vendor_logo,alt:"vendor"}})])])]),e._v(" "),i("Col",{attrs:{span:18}},[i("div",{staticStyle:{padding:"10px"}},[i("a",{attrs:{href:e.deviceInfo.details.vendor_link}},[e._v("Vendor: "+e._s(e.deviceInfo.details.vendor_name))]),e._v(" "),i("div",{staticClass:"description"},[i("p",[e._v('"'+e._s(e.deviceInfo.details.description)+'"')])])])])],1)],1)],1)],1)},staticRenderFns:[]};var v=i("VU/8")(l,d,!1,function(e){i("9i8U")},"data-v-a326f8ce",null).exports,p={name:"DeviceDisplay",components:{DeviceCard:v},props:{deviceInfo:{type:Array},labelDict:{type:Object},index:{type:Number},showCheckingResult:{type:Boolean},showProgressBar:{type:Boolean}},data:function(){return{sortedTag:void 0,cascaderData:void 0,selectedData:[" ",0]}},methods:{parseDeviceInfo:function(e){var t={};return e.forEach(function(e,i,a){e.type in t||(t[e.type]=[]);var s=!0===(e.hasProblem||0==e.tag.isPresent)?"error":"success";t[e.type].push({name:e.deviceName,index:i,tagStyle:s})}),t},parseTypeName:function(e){return this.labelDict[e]},parseCascaderData:function(e){var t=this,i=[],a=function(a){var s={value:a,label:t.labelDict[a]||"unrecorded",children:[]};console.log(e[a]),e[a].forEach(function(e,t){s.children.push({value:e.index,label:e.name})}),i.push(s)};for(var s in e)a(s);return i}},computed:{index:{get:function(){var e=this.selectedData[1];return this.$emit("update:index",e),this.$emit("update:showCheckingResult",!1),this.$emit("update:showProgressBar",!1),e}}},created:function(){this.sortedTag=this.parseDeviceInfo(this.deviceInfo),this.cascaderData=this.parseCascaderData(this.sortedTag)}},u={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticStyle:{margin:"20px 20px 20px 0px"}},[i("Card",{attrs:{bordered:!1,shadow:"",id:"selector"}},[i("div",{staticClass:"title"},[e._v("Which device you want to diagnose?")]),e._v(" "),i("Cascader",{attrs:{placeholder:"Please select a device",data:e.cascaderData},model:{value:e.selectedData,callback:function(t){e.selectedData=t},expression:"selectedData"}})],1)],1),e._v(" "),i("device-card",{attrs:{deviceInfo:e.deviceInfo[e.index],index:e.index,showDetails:!0}})],1)},staticRenderFns:[]};var h=i("VU/8")(p,u,!1,function(e){i("+iE6")},"data-v-001ecb05",null).exports,f=i("NYxO"),g={name:"Info",components:{DeviceDisplay:h,DeviceCard:v},data:function(){return{deviceInfo:void 0,clientInfo:void 0,agentInfo:void 0,clientDetail:void 0,index:0,numOfDevices:0,diagnosisInfo:void 0,labelDict:{printers:"Printers",usbdisk:"USB Disk Devices",scanners:"Scanners",cameras:"Cameras"},columns:[{title:"Key",key:"key"},{title:"Value",key:"value"}],checkColumns:[{title:"Key",key:"key"},{title:"Value",key:"value"},{title:"Check",key:"check",width:100,render:function(e,t){var i="Pass",a="success";return 0==t.row.check?(i="Failed",a="error"):"null"==t.row.check&&(i="",a="white"),e("Tag",{props:{color:a,size:"small",type:"border"}},i)}}],showHeader:!1,showProgressBar:!1,tableSize:"big"}},methods:{parseSuggestions:function(e){var t=[];return e.forEach(function(e){var i={};e instanceof Array?(i.context=e[0],i.hasDetail=!0,i.detail=e[1]):(i.context=e,i.hasDetail=!1),t.push(i)}),t},fetchBasicInfo:function(e){var t,i=this;(t=e,Object(c.a)({url:"/device_and_client_info",method:"get",params:{id:t}})).then(function(e){i.deviceInfo=e.data.basicInfo.device,i.clientInfo=e.data.basicInfo.client,i.agentInfo=e.data.basicInfo.agent,i.clientDetail=e.data.basicInfo.clientDetail,i.numOfDevices=i.deviceInfo.length,i.diagnosisInfo=e.data.diagnosisInfo,i.$Loading.finish(),i.$Message.success("Successfully get the report of this device")}).catch(function(){i.$Loading.error(),i.$Message.error("Sorry, could not get your diagnosis information...")})}},watch:{index:function(){this.$Message.success("Updated the diagnosis report for the device")}},computed:r()({},Object(f.b)(["uuid"]),{compatilityCheck:{get:function(){return void 0===this.diagnosisInfo?void 0:this.diagnosisInfo[this.index].checkResult}},suggestions:{get:function(){return void 0===this.diagnosisInfo?void 0:this.parseSuggestions(this.diagnosisInfo[this.index].suggestions)}},device_column_data:{get:function(){return[{key:"Device Name",value:this.deviceInfo[this.index].deviceName},{key:"VID",value:this.deviceInfo[this.index].vid},{key:"PID",value:this.deviceInfo[this.index].pid},{key:"Device Type",value:this.labelDict[this.deviceInfo[this.index].type]}]}}}),created:function(){this.$store.commit("uuid/SET_UUID",this.$route.params.id),this.$Loading.start(),this.fetchBasicInfo(this.uuid)}},m={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"container"},[i("Row",{attrs:{type:"flex"}},[i("Col",{attrs:{sm:12,lg:8}},[i("device-display",{attrs:{deviceInfo:e.deviceInfo,labelDict:e.labelDict,index:e.index},on:{"update:index":function(t){e.index=t}}})],1),e._v(" "),i("Col",{staticClass:"col-tables",attrs:{sm:12,lg:16}},[i("div",{staticStyle:{margin:"10px 0px"}},[i("Card",{attrs:{shadow:""}},[i("p",{attrs:{slot:"title"},slot:"title"},[e._v("Device Information")]),e._v(" "),i("span",{staticStyle:{"font-weight":"400"},attrs:{slot:"extra"},slot:"extra"},[i("Tag",{attrs:{color:"success",type:"border",size:"default"}},[e._v("Detected in "+e._s(e.deviceInfo[e.index].end.replace(/^\S/,function(e){return e.toUpperCase()})))]),e._v(" "),e.deviceInfo[e.index].tag.isVirtualPrinter?i("Tag",{attrs:{color:"warning",type:"border"}},[e._v("Virtual Printer")]):e.deviceInfo[e.index].tag.isPresent?i("Tag",{attrs:{color:"success",type:"border"}},[e._v("Connected")]):i("Tag",{attrs:{color:"error",type:"border"}},[e._v("Disconnected")]),e._v(" "),e.deviceInfo[e.index].hasProblem?i("Tag",{attrs:{color:"error",type:"border"}},[e._v("Has problem")]):e._e(),e._v(" "),e.deviceInfo[e.index].tag.isRebootNeed?i("Tag",{attrs:{color:"warning",type:"border"}},[e._v("Reboot Need")]):e._e(),e._v(" "),e.deviceInfo[e.index].tag.isUsbRedirect?i("Tag",{attrs:{color:"warning",type:"border"}},[e._v("Usb Redirected")]):e._e()],1),e._v(" "),i("Table",{attrs:{stripe:"","show-header":e.showHeader,columns:e.columns,data:e.device_column_data,size:e.tableSize}})],1)],1),e._v(" "),i("div",{staticStyle:{margin:"10px 0px"}},[i("Card",{attrs:{shadow:""}},[i("p",{attrs:{slot:"title"},slot:"title"},[e._v("Client Information")]),e._v(" "),i("span",{attrs:{slot:"extra"},slot:"extra"},[i("Poptip",{attrs:{trigger:"hover",placement:"left",width:"750"}},[i("a",[e._v("More Information")]),e._v(" "),i("div",{staticStyle:{height:"500px",overflow:"scroll"},attrs:{slot:"content"},slot:"content"},[i("Table",{attrs:{stripe:"","show-header":e.showHeader,columns:e.columns,data:e.clientDetail,size:e.tableSize}})],1)])],1),e._v(" "),i("Table",{attrs:{stripe:"","show-header":e.showHeader,columns:e.columns,data:e.clientInfo,size:e.tableSize}})],1)],1),e._v(" "),i("div",{staticStyle:{margin:"10px 0px"}},[i("Card",{attrs:{shadow:""}},[i("p",{attrs:{slot:"title"},slot:"title"},[e._v("Agent Information")]),e._v(" "),i("Table",{attrs:{stripe:"","show-header":e.showHeader,columns:e.columns,data:e.agentInfo,size:e.tableSize}})],1)],1)])],1),e._v(" "),i("Row",{staticStyle:{margin:"20px 0px"}},[i("Col",{attrs:{span:"12"}},[i("div",{staticStyle:{margin:"0px 10px 0px 0px"}},[i("Card",{attrs:{shadow:""}},[i("p",{attrs:{slot:"title"},slot:"title"},[e._v("Client Compatibility Check")]),e._v(" "),i("Table",{attrs:{stripe:"","show-header":e.showHeader,columns:e.checkColumns,data:e.compatilityCheck.client,size:e.tableSize}})],1)],1)]),e._v(" "),i("Col",{attrs:{span:"12"}},[i("div",{staticStyle:{margin:"0px 0px 0px 10px"}},[i("Card",{attrs:{shadow:""}},[i("p",{attrs:{slot:"title"},slot:"title"},[e._v("Agent Compatibility Check")]),e._v(" "),i("Table",{attrs:{stripe:"","show-header":e.showHeader,columns:e.checkColumns,data:e.compatilityCheck.agent,size:e.tableSize}})],1)],1)])],1),e._v(" "),i("Row",{staticStyle:{margin:"20px 0px"}},[i("Card",{attrs:{shawdow:""}},[i("p",{attrs:{slot:"title"},slot:"title"},[e._v("Suggestions")]),e._v(" "),i("List",{attrs:{size:"small"}},e._l(e.suggestions,function(t){return i("ListItem",{key:t},[i("div",[i("Icon",{attrs:{type:"ios-alert-outline",color:"red"}}),e._v(" "),i("span",{staticClass:"suggestions"},[e._v(e._s(t.context))]),e._v(" "),t.hasDetail?i("span",{staticClass:"suggestions"},[e._v("\n              Follow\n              "),i("a",{attrs:{href:t.detail}},[e._v("\n                this link\n                "),i("Icon",{attrs:{type:"ios-search",size:"16"}})],1),e._v("\n              to find more guidance.\n            ")]):e._e()],1)])}),1)],1)],1)],1)},staticRenderFns:[]};var _={name:"Report",components:{TopBar:n,Info:i("VU/8")(g,m,!1,function(e){i("lJDJ")},"data-v-9adb30d8",null).exports,RearBar:i("mRcU").a}},x={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("top-bar"),this._v(" "),t("Info"),this._v(" "),t("rear-bar")],1)},staticRenderFns:[]};var y=i("VU/8")(_,x,!1,function(e){i("Tzg9")},null,null);t.default=y.exports},Tzg9:function(e,t){},lJDJ:function(e,t){}});
//# sourceMappingURL=5.ae1cf9a5f5593066d4aa.js.map