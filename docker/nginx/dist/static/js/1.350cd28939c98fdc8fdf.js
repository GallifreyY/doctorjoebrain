webpackJsonp([1],{"+HwT":function(e,t){},BO1k:function(e,t,a){e.exports={default:a("fxRn"),__esModule:!0}},Fkam:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("XpZt"),r=a("Dd8w"),o=a.n(r),i=a("BO1k"),l=a.n(i),s=a("vLgD");var c={name:"DForm",inject:["reload"],props:{modalForm:{type:Boolean,default:!1},categoryList:{type:Array}},data:function(){return{index:1,formItem:void 0,HorizonVersionsList:{client:[{label:"5.0.0",value:"5.0.0"},{label:"5.1.0",value:"5.1.0"},{label:"5.2.0",value:"5.2.0"},{label:"5.3.0",value:"5.3.0"},{label:"5.4.0",value:"5.4.0"}],agent:[{label:"7.8.0",value:"7.8.0"},{label:"7.9.0",value:"7.9.0"},{label:"7.10.0",value:"7.10.0"},{label:"7.11.0",value:"7.11.0"},{label:"7.12.0",value:"7.12.0"}]},rulesV:{vid:[{required:!0,message:"VID cannot be empty",trigger:"blur"},{type:"string",max:4,min:4,message:"Incorrect VID format",trigger:"blur"}],pid:[{required:!0,message:"PID cannot be empty",trigger:"blur"},{type:"string",max:4,min:4,message:"Incorrect PID format",trigger:"blur"}],name:[{required:!0,message:"The device name cannot be empty",trigger:"blur"}]}}},computed:{},methods:{init:function(){this.formItem={vid:"",pid:"",model:null,deviceName:"",category:"",OS:[],driver:"",HorizonVersionsRes:[{client:"",agent:"",index:1,status:1}]}},formatResult:function(){},handleCancel:function(){this.init(),this.$emit("update:modalForm",!1)},handleSubmit:function(){var e,t=this;(e=this.formItem,Object(s.a)({url:"/matrix/newData",method:"post",data:e})).then(function(){t.$Message.success("Submitted Successfully!"),t.init(),t.reload()}).catch(function(){t.$Message.error("Something going wrong... please try again")}),this.$emit("update:modalForm",!1)},handleAdd:function(){this.index++,this.formItem.HorizonVersionsRes.push({client:"",agent:"",index:this.index,status:1})},handleRemove:function(e){this.formItem.HorizonVersionsRes[e].status=0}},created:function(){this.init()}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modal",{staticStyle:{padding:"0 3%"},attrs:{width:"1000",okText:"Submit",cancelText:"Cancel"},on:{"on-cancel":e.handleCancel,"on-ok":e.handleSubmit},model:{value:e.modalForm,callback:function(t){e.modalForm=t},expression:"modalForm"}},[a("Divider",{staticStyle:{padding:"2% 0 2% 0"},attrs:{orientation:"left",size:"small"}},[e._v("Device Information")]),e._v(" "),a("Form",{ref:"formItem",attrs:{model:e.formItem,"label-width":"110",rules:e.rulesV}},[a("Row",[a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"VID",prop:"vid"}},[a("Input",{attrs:{placeholder:"Enter the VID.."},model:{value:e.formItem.vid,callback:function(t){e.$set(e.formItem,"vid",t)},expression:"formItem.vid"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"PID",prop:"pid"}},[a("Input",{attrs:{placeholder:"Enter the VID.."},model:{value:e.formItem.pid,callback:function(t){e.$set(e.formItem,"pid",t)},expression:"formItem.pid"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"Model"}},[a("Input",{attrs:{placeholder:"Enter the Model.."},model:{value:e.formItem.model,callback:function(t){e.$set(e.formItem,"model",t)},expression:"formItem.model"}})],1)],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"16"}},[a("FormItem",{attrs:{label:"Device Name",prop:"name"}},[a("Input",{attrs:{placeholder:"Enter the Device Name.."},model:{value:e.formItem.deviceName,callback:function(t){e.$set(e.formItem,"deviceName",t)},expression:"formItem.deviceName"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"Category"}},[a("Select",{model:{value:e.formItem.category,callback:function(t){e.$set(e.formItem,"category",t)},expression:"formItem.category"}},e._l(e.categoryList,function(t){return a("Option",{key:t,attrs:{value:t}},[e._v(e._s(t))])}),1)],1)],1)],1),e._v(" "),a("Divider",{staticStyle:{padding:"2% 0 2% 0"},attrs:{orientation:"left",size:"small"}},[e._v("Horizon Compatibility Versions")]),e._v(" "),e._l(e.formItem.HorizonVersionsRes,function(t,n){return t.status?a("Row",{key:n},[a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"Client Version"+t.index,"label-width":"150"}},[a("Select",{model:{value:t.client,callback:function(a){e.$set(t,"client",a)},expression:"item.client"}},e._l(e.HorizonVersionsList.client,function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}),1)],1)],1),e._v(" "),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"Agent Version"+t.index,"label-width":"150"}},[a("Select",{model:{value:t.agent,callback:function(a){e.$set(t,"agent",a)},expression:"item.agent"}},e._l(e.HorizonVersionsList.agent,function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}),1)],1)],1),e._v(" "),a("Col",{attrs:{span:"6",offset:"2"}},[a("Button",{attrs:{type:"error",ghost:""},on:{click:function(t){return e.handleRemove(n)}}},[e._v("Delete")])],1)],1):e._e()}),e._v(" "),a("FormItem",{attrs:{"label-width":"150"}},[a("Row",[a("Col",{attrs:{span:"14"}},[a("Button",{attrs:{type:"dashed",long:"",icon:"md-add"},on:{click:e.handleAdd}},[e._v("Add item")])],1)],1)],1),e._v(" "),a("Divider",{staticStyle:{padding:"2% 0 2% 0"},attrs:{orientation:"left",size:"small"}},[e._v("Driver Compatibility Versions")]),e._v(" "),a("FormItem",{attrs:{label:"Driver Name"}},[a("Input",{attrs:{placeholder:"Enter the Driver Name.."},model:{value:e.formItem.driver,callback:function(t){e.$set(e.formItem,"driver",t)},expression:"formItem.driver"}})],1),e._v(" "),a("FormItem",{attrs:{label:"OS Version"}},[a("CheckboxGroup",{model:{value:e.formItem.OS,callback:function(t){e.$set(e.formItem,"OS",t)},expression:"formItem.OS"}},[a("Checkbox",{attrs:{label:"Windows 7"}}),e._v(" "),a("Checkbox",{attrs:{label:"Windows 10"}}),e._v(" "),a("Checkbox",{attrs:{label:"Windows 2016"}}),e._v(" "),a("Checkbox",{attrs:{label:"Windows 2019"}})],1)],1)],2)],1)},staticRenderFns:[]};var m=a("VU/8")(c,d,!1,function(e){a("gybd")},"data-v-6d71b6c5",null).exports,u={name:"DItem",inject:["reload"],props:{modalItem:{type:Boolean,default:!1},data:{type:Object}},data:function(){return{formItem:void 0,HorizonVersionsList:{client:[{label:"5.0.0",value:"5.0.0"},{label:"5.1.0",value:"5.1.0"},{label:"5.2.0",value:"5.2.0"},{label:"5.3.0",value:"5.3.0"},{label:"5.4.0",value:"5.4.0"}],agent:[{label:"7.8.0",value:"7.8.0"},{label:"7.9.0",value:"7.9.0"},{label:"7.10.0",value:"7.10.0"},{label:"7.11.0",value:"7.11.0"},{label:"7.12.0",value:"7.12.0"}]}}},methods:{handleCancel:function(){this.$emit("update:modalItem",!1),this.init()},handleSubmit:function(){var e,t=this;this.formItem.query={vendor_id:this.data.vendor_id,product_id:this.data.product_id,model:this.data.model},(e=this.formItem,Object(s.a)({url:"/matrix/editedData",method:"post",data:e})).then(function(e){t.$Message.success("Successfully edited this item !"),t.reload()}).catch(function(e){t.$Message.error("Sorry, could not edit this item")}),this.$emit("update:modalItem",!1)},init:function(){this.formItem={Horizon_client_version:"",Horizon_agent_version:""}}},created:function(){this.init()}},v={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modal",{attrs:{width:"400","ok-text":"Submit","cancel-text":"Cancel",title:"Edit for the device: "+e.data.device_name},on:{"on-cancel":e.handleCancel,"on-ok":e.handleSubmit},model:{value:e.modalItem,callback:function(t){e.modalItem=t},expression:"modalItem"}},[a("Form",{ref:"formItem",attrs:{model:e.formItem,"label-width":"60"}},[a("Row",[a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"VID"}},[a("Input",{attrs:{placeholder:e.data.vendor_id,disabled:""}})],1)],1),e._v(" "),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"PID"}},[a("Input",{attrs:{placeholder:e.data.product_id,disabled:""}})],1)],1),e._v(" "),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"Model"}},[a("Input",{attrs:{placeholder:e.data.model,disabled:""}})],1)],1)],1),e._v(" "),a("FormItem",{attrs:{label:"Horizon Client Version","label-width":"170"}},[a("Select",{attrs:{placeholder:e.data.Horizon_client_version},model:{value:e.formItem.Horizon_client_version,callback:function(t){e.$set(e.formItem,"Horizon_client_version",t)},expression:"formItem.Horizon_client_version"}},e._l(e.HorizonVersionsList.client,function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}),1)],1),e._v(" "),a("FormItem",{attrs:{label:"Horizon Agent Version","label-width":"170"}},[a("Select",{attrs:{placeholder:e.data.Horizon_agent_version},model:{value:e.formItem.Horizon_agent_version,callback:function(t){e.$set(e.formItem,"Horizon_agent_version",t)},expression:"formItem.Horizon_agent_version"}},e._l(e.HorizonVersionsList.agent,function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}),1)],1)],1)],1)},staticRenderFns:[]};var h=a("VU/8")(u,v,!1,function(e){a("dC/O")},"data-v-5232f5a2",null).exports,f=a("NYxO"),p={name:"DTable",inject:["reload"],components:{DForm:m,DItem:h},props:{filter:{default:"all",type:String,required:!1},otherIndex:{default:"5",type:String,required:!1}},data:function(){var e=this;return{cateList:[],searchString:"",searchedData:void 0,showSearchResult:!1,matrixAllData:void 0,modalItemData:void 0,submit:!1,modalForm:!1,modalItem:!1,columns1:[{type:"index",width:60,align:"center"},{title:"Device Name",key:"device_name",width:"200",align:"center",sortable:!0},{title:"Category",key:"category",width:"130",align:"center",sortable:!0},{title:"Vid",key:"vendor_id",width:"100",align:"center",sortable:!0},{title:"Pid",key:"product_id",width:"100",align:"center",sortable:!0},{title:"Model",key:"model",width:"100",align:"center"},{title:"Horizon Version",align:"center",children:[{title:"Client",key:"Horizon_client_version",width:"100",align:"center",sortable:!0},{title:"Agent",key:"Horizon_agent_version",width:"100",align:"center",sortable:!0}]},{title:"Action",key:"action",align:"center",render:function(t,a){return t("div",[t("Button",{props:{type:"primary",size:"small",disabled:!e.admission},style:{marginRight:"5px"},on:{click:function(){e.handleEdit(a.index)}}},"Edit"),t("Button",{props:{type:"error",size:"small",disabled:!e.admission},on:{click:function(){e.handleDelete(a.index)}}},"Delete")])}}]}},methods:{fetchMatrix:function(){var e=this;Object(s.a)({url:"/matrix",method:"get"}).then(function(t){e.matrixAllData=t.data,e.cateList=t.cateList,e._parse_cate(e.matrixAllData)}).catch(function(){e.$Message.error("Sorry, could not get Data Matrix..")})},handleSearch:function(){this.showSearchResult=!0,this.searchedData=this._search(this.searchString)},handleClose:function(){this.showSearchResult=!1},handleUpload:function(){this.modalForm=!0},handleDownload:function(){this.$refs.table.exportCsv({filename:"Device Matrix Data"})},handleDelete:function(e){var t,a=this,n=this.matrixDisplayData[e];alert(this.matrixDisplayData[e].device_name),delete n.category,delete n.device_name,(t=n,Object(s.a)({url:"/matrix/deletedData",method:"post",data:t})).then(function(e){a.$Message.success("Successfully delete this item.."),a.reload()}).catch(function(e){a.$Message.error("Sorry, could not get Delete this item")})},handleEdit:function(e){this.modalItem=!0,this.modalItemData=this.matrixDisplayData[e]},_parse_cate:function(e){var t=this;e.forEach(function(e,a,n){n[a].category=t.cateList[n[a].category]||"Other Devices"})},_other_filter:function(e){return this.cateList.indexOf(e.category)>this.otherIndex||"Other Devices"===e.category},_filter:function(e,t,a){return"all"===this.filter?e:(console.log(this.otherIndex),"other"===this.filter?e.filter(this._other_filter):e.filter(function(e){return e.category===t}))},_search:function(e){var t=[];if(!e)return[];var a=!0,n=!1,r=void 0;try{for(var o,i=l()(this.matrixDisplayData);!(a=(o=i.next()).done);a=!0){var s=o.value;console.log(s),s.device_name.slice(0,e.length).toLowerCase()===e.toLowerCase()&&t.push(s)}}catch(e){n=!0,r=e}finally{try{!a&&i.return&&i.return()}finally{if(n)throw r}}return 0===t.length&&this.$Notice.error({title:"No Search Result"}),t}},computed:o()({},Object(f.b)(["token"]),{admission:function(){return"true"===this.token},matrixDisplayData:function(){return this._filter(this.matrixAllData,this.filter)},modalItemDataProps:function(){return this.modalItemData}}),created:function(){this.fetchMatrix()}},_={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{padding:"2% 5% 2% 5%"}},[a("Row",{staticClass:"buttons"},[a("Col",{attrs:{span:"8"}},[a("Input",{attrs:{search:"",placeholder:"Search device names..."},on:{"on-search":e.handleSearch},model:{value:e.searchString,callback:function(t){e.searchString=t},expression:"searchString"}})],1),e._v(" "),a("Col",{attrs:{span:"3"}},[a("Button",{staticStyle:{"margin-left":"5%"},attrs:{shape:"circle"},on:{click:e.reload}},[a("Icon",{attrs:{type:"ios-refresh",size:"18"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"7",offset:"6"}},[a("ButtonGroup",{attrs:{shape:"circle"}},[a("Button",{attrs:{disabled:!e.admission},on:{click:e.handleUpload}},[a("Icon",{staticStyle:{"margin-right":"5px"},attrs:{type:"ios-cloud-upload-outline",size:"18"}}),e._v("Add New Device\n        ")],1),e._v(" "),a("d-form",{attrs:{modalForm:e.modalForm,categoryList:e.cateList},on:{"update:modalForm":function(t){e.modalForm=t},"update:modal-form":function(t){e.modalForm=t}}}),e._v(" "),a("Button",{on:{click:e.handleDownload}},[a("Icon",{staticStyle:{"margin-right":"5px"},attrs:{type:"ios-cloud-download-outline",size:"18"}}),e._v("Download\n        ")],1)],1)],1)],1),e._v(" "),e.showSearchResult?a("div",[a("Divider",[e._v("\n      Search Result\n      "),a("Icon",{staticStyle:{"margin-left":"10%",cursor:"pointer"},attrs:{type:"ios-close-circle-outline",color:"red"},nativeOn:{click:function(t){return e.handleClose(t)}}})],1),e._v(" "),a("Row",{staticClass:"search-result"},[a("Table",{attrs:{columns:e.columns1,data:e.searchedData}})],1),e._v(" "),a("Divider",[e._v("Matrix")])],1):e._e(),e._v(" "),a("Row",{staticClass:"table"},[a("Table",{ref:"table",attrs:{stripe:"",columns:e.columns1,data:e.matrixDisplayData}}),e._v(" "),a("d-item",{attrs:{modalItem:e.modalItem,data:e.modalItemDataProps},on:{"update:modalItem":function(t){e.modalItem=t},"update:modal-item":function(t){e.modalItem=t}}})],1)],1)},staticRenderFns:[]};var b={name:"Matrix",components:{DTable:a("VU/8")(p,_,!1,function(e){a("+HwT")},"data-v-b249b59a",null).exports,DForm:m},data:function(){return{filter:"all",categoryList:[],otherIndex:5}},methods:{handleClick:function(e){this.filter=e}},created:function(){var e=this;Object(s.a)({url:"/matrix/categoryInfo",method:"get"}).then(function(t){e.categoryList=t.data.slice(0,e.otherIndex)}).catch(function(){e.$Message.error("Sorry, could not get Category Information..")})}},g={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"layout"},[a("Sider",{attrs:{id:"sider"}},[a("Menu",{attrs:{"hide-trigger":"",theme:"light",width:"auto","open-names":"['1','2']"}},[a("Submenu",{attrs:{name:"1"}},[a("template",{slot:"title"},[a("Icon",{attrs:{type:"md-analytics",size:"20"}}),e._v("Matrix\n        ")],1),e._v(" "),a("MenuItem",{attrs:{name:"1-1"},nativeOn:{click:function(t){e.filter="all"}}},[e._v("All Devices")]),e._v(" "),e._l(e.categoryList,function(t,n){return a("MenuItem",{key:n,attrs:{name:"1-"+n},nativeOn:{click:function(a){return e.handleClick(t)}}},[e._v("\n        "+e._s(t)+"\n        ")])}),e._v(" "),a("MenuItem",{attrs:{name:"other"},nativeOn:{click:function(t){e.filter="other"}}},[e._v("Other Devices")])],2),e._v(" "),a("Submenu",{attrs:{name:"2"}},[a("template",{slot:"title"},[a("Icon",{attrs:{type:"md-checkbox",size:"20"}}),e._v("Check\n        ")],1),e._v(" "),a("MenuItem",{attrs:{name:"2-1"}},[e._v("Horizon Versions")]),e._v(" "),a("MenuItem",{attrs:{name:"2-2"}},[e._v("Device Drivers")])],2),e._v(" "),a("MenuItem",{attrs:{name:"3"}},[a("Icon",{attrs:{type:"md-create",size:"20"}}),e._v("Edit\n      ")],1),e._v(" "),a("MenuItem",{attrs:{name:"4"}},[a("Icon",{attrs:{type:"md-contacts",size:"20"}}),e._v("Contact us\n      ")],1)],1)],1),e._v(" "),a("div",{staticClass:"content"},[a("d-table",{attrs:{filter:e.filter,otherIndex:5}})],1)],1)},staticRenderFns:[]};var I=a("VU/8")(b,g,!1,function(e){a("P6rg")},"data-v-7ac20fcc",null).exports,y={name:"DeviceMatrix",components:{NavBar:n.a,Matrix:I},data:function(){return{}}},x={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"page"},[t("nav-bar"),this._v(" "),t("Matrix")],1)},staticRenderFns:[]};var D=a("VU/8")(y,x,!1,function(e){a("fftl")},"data-v-10b08edd",null);t.default=D.exports},P6rg:function(e,t){},"dC/O":function(e,t){},fftl:function(e,t){},fxRn:function(e,t,a){a("+tPU"),a("zQR9"),e.exports=a("g8Ux")},g8Ux:function(e,t,a){var n=a("77Pl"),r=a("3fs2");e.exports=a("FeBl").getIterator=function(e){var t=r(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},gybd:function(e,t){}});
//# sourceMappingURL=1.350cd28939c98fdc8fdf.js.map